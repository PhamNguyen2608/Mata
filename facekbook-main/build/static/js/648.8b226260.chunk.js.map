{"version":3,"file":"static/js/648.8b226260.chunk.js","mappings":"qQAOMA,EAAiBC,EAAAA,YAAiB,SAACC,EAAOC,GAC9C,OAAwBC,EAAAA,EAAAA,UAAS,CAAEC,EAAG,EAAGC,EAAG,IAAI,eAAzCC,EAAI,KAAEC,EAAO,KACpB,GAAwBJ,EAAAA,EAAAA,UAAS,GAAE,eAA5BK,EAAI,KAAEC,EAAO,KACpB,GAAkDN,EAAAA,EAAAA,UAAS,MAAK,eAAzDO,EAAiB,KAAEC,EAAoB,KAC9CC,QAAQC,IAAI,sBAAuBH,GACnC,OAAkCP,EAAAA,EAAAA,WAAS,GAAM,eAA1CW,EAAS,KAAEC,EAAY,KAC9B,GAAoCZ,EAAAA,EAAAA,WAAS,GAAM,eAAhCa,GAAF,KAAe,MAE1BC,GAAWC,EAAAA,EAAAA,MACXC,GAAiBC,EAAAA,EAAAA,cAAY,SAACC,EAAaX,GAC/CC,EAAqBD,EACvB,GAAG,IAEGY,EAAe,yCAAG,WAAOZ,GAAiB,gGAC1Ba,EAAUtB,EAAMuB,OAAO,KAAD,EAiBxC,OAjBIA,EAAK,OACLC,EAASC,SAASC,cAAc,UAChCC,EAAMH,EAAOI,WAAW,MAE9BJ,EAAOK,MAAQpB,EAAkBoB,MACjCL,EAAOM,OAASrB,EAAkBqB,OAElCH,EAAII,UACFR,EACAd,EAAkBN,EAClBM,EAAkBL,EAClBK,EAAkBoB,MAClBpB,EAAkBqB,OAClB,EACA,EACArB,EAAkBoB,MAClBpB,EAAkBqB,QAClB,kBAEK,IAAIE,SAAQ,SAACC,EAASC,GAC3BV,EAAOW,QAAO,SAACC,GACTA,EACFH,EAAQG,GAERF,EAAO,IAAIG,MAAM,oEAErB,GAAG,YACL,KAAE,2CACH,gBA7BoB,sCAuCfC,EAAW,yCAAG,uGACE,OAApB3B,QAAQC,IAAI,QAAQ,SACWS,EAAgBZ,GAAmB,KAAD,EAA3D8B,EAAgB,OACtB5B,QAAQC,IAAI,qBAAsB2B,GAI5BC,EAAmB,IAAIC,KAAK,CAACF,GAAmB,mBAAoB,CACxEG,KAAM,eAKFC,EAAW,IAAIC,UACZC,OAAO,OAAQ7C,EAAM8C,YAAYC,KAC1CJ,EAASE,OAAO,QAASL,GAAkB,UAClBG,EAASK,WAAS,IAA3C,2BAA8C,GAAD,kBAAnCC,EAAG,KAAEC,EAAK,KAClBvC,QAAQC,IAAIqC,EAAKC,EAClB,+BAGoB,OAHpB,UAGCpC,GAAa,GAAM,UACbqC,EAAAA,EAAAA,KACJ,8CACAR,EACA,CACES,QAAS,CACP,eAAgB,yBAGpB,KAAD,GAGDtC,GAAa,GACbC,GAAc,GACdC,EAAS,KACT,mDAEAL,QAAQ0C,MAAM,0CAAwB,EAAD,IACrC1C,QAAQC,IAAI,yBAA0B4B,GAEtC1B,GAAa,GACb,QAEFH,QAAQC,IAAI,yBAA0B2B,GAAkB,2DACzD,kBA7CgB,oCA+CjBe,EAAAA,EAAAA,qBAAoBrD,GAAK,iBAAO,CAC9BqC,YAAAA,EACAiB,eAAAA,EACD,IACD,IAAMjC,EAAY,SAACkC,GACjB,OAAO,IAAIxB,SAAQ,SAACC,EAASC,GAC3B,IAAMuB,EAAM,IAAIC,MAChBD,EAAID,IAAMA,EACVC,EAAIE,OAAS,kBAAM1B,EAAQwB,EAAK,EAChCA,EAAIG,QAAU,SAACC,GAAC,OAAK3B,EAAO2B,EAAG,CACjC,GACF,EACMN,EAAiB,WAAO,EAE9B,OACE,iBAAKO,UAAU,YAAW,UACvBjD,IACC,4BACE,gBAAKiD,UAAU,aACf,gBAAKA,UAAU,kBAAiB,UAC9B,SAAC,IAAY,CAACC,MAAM,UAAUC,QAASnD,EAAWoD,KAAM,YAI9D,gBAAKH,UAAU,UAAS,UACtB,iBAAKA,UAAU,UAAS,WACtB,eAAIA,UAAU,QAAO,SAAC,yBACtB,gBAAKA,UAAU,iBAAgB,UAC7B,SAAC,KAAO,CACNI,GAAG,UACH3C,MAAOvB,EAAMuB,MACblB,KAAMA,EACNE,KAAMA,EACN4D,OAAQ,EAAI,GACZC,aAAc9D,EACdY,eAAgBA,EAChBmD,aAAc7D,OAGlB,gBAAKsD,UAAU,WAAU,UACvB,kBACEpB,KAAK,QACLQ,MAAO3C,EACP+D,IAAK,EACLC,IAAK,EACLC,KAAM,GACN,kBAAgB,OAChBC,SAAU,SAACZ,GACTrD,EAAQqD,EAAEa,OAAOxB,MACnB,EACAY,UAAU,wBAOxB,IACA,I,UChEA,EA/FqB,SAAC9D,GACpB,OAA0BE,EAAAA,EAAAA,UAAS,MAAK,eAAjCqB,EAAK,KAAEoD,EAAQ,KACtB,GAAsCzE,EAAAA,EAAAA,WAAS,GAAM,eAA9C0E,EAAW,KAAEC,EAAc,KAC5BC,GAAoBC,EAAAA,EAAAA,UACpBjC,GAAckC,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMC,KAAKC,QAAQ,IAExDC,EAAWtC,EAAYuC,WAAWC,OAAO,IAAKxC,EAAYyC,WAY1DC,EAAqB,WACzBC,MAAM,sCACNZ,GAAe,EACjB,EAIA,OACE,iBAAKf,UAAU,YAAW,WACxB,iBAAKA,UAAU,MAAK,WAClB,iBAAKA,UAAU,mBAAkB,UAC9Bc,IACC,gBAAKd,UAAU,aAAa4B,QAASF,KAEvC,wBAAI,gBACJ,iBAAK1B,UAAU,QAAO,WACpB,gBAAKA,UAAU,SAAQ,UACrB,gBAAKN,IAAKV,EAAY6C,MAAOC,IAAK9C,EAAY6C,WAEhD,iBAAM7B,UAAU,OAAM,SAAEsB,UAG3BR,IACC,4BACE,iBAAKd,UAAU,aAAY,WACzB,eAAIA,UAAU,oBACd,iBAAKA,UAAU,MAAK,WAClB,iBAAKA,UAAU,cAAa,WAC1B,gBAAKA,UAAU,YACf,gBAAKA,UAAU,WAAU,SAAC,WAG5B,mBAAQA,UAAU,UAAS,SAAE,oBAKjC,gBAAKA,UAAU,SAAQ,UACrB,mBAAQA,UAAU,YAAY4B,QAlChB,WACxBZ,EAAkBe,QAAQvD,aAC5B,EAgCqE,SAAC,2BAQhEsC,GAoBA,SAAC,EAAc,CACbrD,MAAOA,EACPuE,QAASN,EACTvF,IAAK6E,EACLhC,YAAaA,KAvBf,+BACE,iBAAKgB,UAAU,mBAAkB,WAC/B,kBACEpB,KAAK,OACLqD,OAAO,UACPtB,SA/Dc,SAACZ,GACzB,IAAMmC,EAAOnC,EAAEa,OAAOuB,MAAM,GAC5B,GAAID,GAAQA,EAAKtD,KAAKwD,MAAM,YAAa,CACvC,IAAMC,EAAS,IAAIC,WACnBD,EAAOxC,OAAS,SAAC0C,GACf1B,EAAS0B,EAAM3B,OAAO4B,QACtBzB,GAAe,EACjB,EACAsB,EAAOI,cAAcP,EACvB,CACF,EAsDYQ,MAAO,CAAEC,QAAS,QAClBvC,GAAG,gBAEL,mBAAOwC,QAAQ,aAAa5C,UAAU,gBAAe,WACnD,iBAAKA,UAAU,cAAa,WAC1B,gBAAKA,UAAU,cACf,gBAAKA,UAAU,wBAEjB,gBAAKA,UAAU,cAAa,SAAC,gCAc3C,C,uBCjGA,IAAI6C,EAAYC,MAAQA,KAAKD,UAAa,WAStC,OARAA,EAAWE,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,EACOJ,EAASc,MAAMb,KAAMO,UAChC,EACIO,EAAmBd,MAAQA,KAAKc,kBAAqBb,OAAOc,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOpB,OAAOqB,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DjB,OAAO2B,eAAeZ,EAAGG,EAAIE,EACjC,EAAM,SAASL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,GACIW,EAAsB7B,MAAQA,KAAK6B,qBAAwB5B,OAAOc,OAAU,SAASC,EAAGc,GACxF7B,OAAO2B,eAAeZ,EAAG,UAAW,CAAEU,YAAY,EAAMpF,MAAOwF,GACnE,EAAK,SAASd,EAAGc,GACbd,EAAW,QAAIc,CACnB,GACIC,EAAgB/B,MAAQA,KAAK+B,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAIT,WAAY,OAAOS,EAClC,IAAItC,EAAS,CAAC,EACd,GAAW,MAAPsC,EAAa,IAAK,IAAId,KAAKc,EAAe,YAANd,GAAmBjB,OAAOS,UAAUC,eAAeC,KAAKoB,EAAKd,IAAIJ,EAAgBpB,EAAQsC,EAAKd,GAEtI,OADAW,EAAmBnC,EAAQsC,GACpBtC,CACX,EACIuC,EAAUjC,MAAQA,KAAKiC,QAAW,SAAU7B,EAAGnD,GAC/C,IAAIkD,EAAI,CAAC,EACT,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAMxD,EAAEiF,QAAQzB,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,oBAAjCH,OAAOkC,sBACtB,KAAI9B,EAAI,EAAb,IAAgBI,EAAIR,OAAOkC,sBAAsB/B,GAAIC,EAAII,EAAED,OAAQH,IAC3DpD,EAAEiF,QAAQzB,EAAEJ,IAAM,GAAKJ,OAAOS,UAAU0B,qBAAqBxB,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,IAF4B,CAItD,OAAOF,CACX,EACAF,OAAO2B,eAAeS,EAAS,aAAc,CAAE/F,OAAO,IACtD,IAAInD,EAAQ4I,EAAaO,EAAQ,OAC7BC,EAAkBD,EAAQ,MAE1BE,GAAS,EADKF,EAAQ,MACGG,iBAAiB,eAAgB,kFAAmF,UA0BjJJ,EAAAA,QAzBA,SAAsBK,GAClB,IAAIC,EAAKD,EAAGtF,QAASA,OAAiB,IAAPuF,GAAuBA,EAAIC,EAAKF,EAAGvF,MAAOA,OAAe,IAAPyF,EAAgB,UAAYA,EAAIC,EAAKH,EAAGI,gBAAiBA,OAAyB,IAAPD,EAAgB,EAAIA,EAAIE,EAAKL,EAAGM,YAAaA,OAAqB,IAAPD,EAAgB,CAAC,EAAIA,EAAIE,EAAKP,EAAGrF,KAAMA,OAAc,IAAP4F,EAAgB,GAAKA,EAAIC,EAAkBjB,EAAOS,EAAI,CAAC,UAAW,QAAS,kBAAmB,cAAe,SAC9W9C,EAAQ,SAAUS,GAClB,IAAI8C,EAAwB,IAAN9C,EAAU,GAAG3B,OAAO,EAAIoE,EAAiB,KAAO,KACtE,MAAO,CACHM,SAAU,WACVlI,QAAQ,EAAIqH,EAAgBc,UAAUhG,GACtCpC,OAAO,EAAIsH,EAAgBc,UAAUhG,GACrCiG,gBAAiBnG,EACjBoG,aAAc,OACdC,QAAS,GACTC,IAAK,EACLC,KAAM,EACNC,kBAAmB,OACnBC,UAAW,GAAGlF,OAAO8D,EAAQ,KAAK9D,OAAO,IAAMoE,EAAiB,MAAMpE,OAAOyE,EAAiB,yBAEtG,EACIU,EAAU9D,EAAS,CAAEF,QAAS,UAAWuD,SAAU,WAAYnI,OAAO,EAAIsH,EAAgBc,UAAUhG,GAAOnC,QAAQ,EAAIqH,EAAgBc,UAAUhG,IAAS2F,GAC9J,OAAK5F,EAGGjE,EAAM2B,cAAc,OAAQiF,EAAS,CAAEH,MAAOiE,GAAWX,GAC7D/J,EAAM2B,cAAc,OAAQ,CAAE8E,MAAOA,EAAM,KAC3CzG,EAAM2B,cAAc,OAAQ,CAAE8E,MAAOA,EAAM,MAJpC,IAKf,C","sources":["pages/stories/ImageUploadBox.js","pages/stories/AddStoryPage.js","../node_modules/react-spinners/BounceLoader.js"],"sourcesContent":["import React, { useState, useCallback, useImperativeHandle } from \"react\";\nimport Cropper from \"react-easy-crop\";\nimport \"./ImageUploadBox.css\";\nimport axios from \"axios\";\nimport BounceLoader  from \"react-spinners/BounceLoader\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst ImageUploadBox = React.forwardRef((props, ref) => {\n  const [crop, setCrop] = useState({ x: 0, y: 0 });\n  const [zoom, setZoom] = useState(1);\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState(null);\n  console.log(\"croppedAreaPixels: \", croppedAreaPixels);\n  const [uploading, setUploading] = useState(false);\n  const [isUploaded, setIsUploaded] = useState(false);\n\n  const navigate = useNavigate();\n  const onCropComplete = useCallback((croppedArea, croppedAreaPixels) => {\n    setCroppedAreaPixels(croppedAreaPixels);\n  }, []);\n\n  const getCroppedImage = async (croppedAreaPixels) => {\n    const image = await loadImage(props.image);\n    const canvas = document.createElement(\"canvas\");\n    const ctx = canvas.getContext(\"2d\");\n\n    canvas.width = croppedAreaPixels.width;\n    canvas.height = croppedAreaPixels.height;\n\n    ctx.drawImage(\n      image,\n      croppedAreaPixels.x,\n      croppedAreaPixels.y,\n      croppedAreaPixels.width,\n      croppedAreaPixels.height,\n      0,\n      0,\n      croppedAreaPixels.width,\n      croppedAreaPixels.height\n    );\n\n    return new Promise((resolve, reject) => {\n      canvas.toBlob((blob) => {\n        if (blob) {\n          resolve(blob);\n        } else {\n          reject(new Error(\"Không thể chuyển đổi canvas thành Blob\"));\n        }\n      }, \"image/png\");\n    });\n  };\n\n  // const blobToString = (blob) => {\n  //   return new Promise((resolve, reject) => {\n  //     const reader = new FileReader();\n  //     reader.onloadend = () => resolve(reader.result);\n  //     reader.onerror = (error) => reject(error);\n  //     reader.readAsDataURL(blob);\n  //   });\n  // }\n  const handleShare = async () => {\n    console.log(\"hi: \");\n    const croppedImageBlob = await getCroppedImage(croppedAreaPixels);\n    console.log(\"croppedImageBlob: \", croppedImageBlob);\n\n    // đẩy hình ảnh đã cắt lên cơ sở dữ liệu.\n    // Chuyển đổi Blob thành File\n    const croppedImageFile = new File([croppedImageBlob], \"croppedImage.png\", {\n      type: \"image/png\",\n    });\n\n    // Tạo FormData và thêm tệp ảnh\n\n    const formData = new FormData();\n    formData.append(\"user\", props.currentUser._id);\n    formData.append(\"image\", croppedImageFile);\n    for (let [key, value] of formData.entries()) {\n      console.log(key, value);\n    }\n\n    try {\n      setUploading(true);\n      await axios.post(\n        \"http://localhost:8000/api/v1/stories/upload\",\n        formData,\n        {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        }\n      );\n\n      // setMessage(\"Ảnh đã được tải lên thành công!\");\n      setUploading(false);\n      setIsUploaded(true);\n      navigate(\"/\");\n      // setSuccess(true);\n    } catch (error) {\n      console.error(\"Lỗi khi tải hình ảnh:\", error);\n      console.log(\"Cropped image as File:\", croppedImageFile);\n      // setMessage(\"Lỗi trong quá trình tải ảnh lên\");\n      setUploading(false);\n      // setSuccess(false);\n    }\n    console.log(\"Cropped image as Blob:\", croppedImageBlob);\n  };\n\n  useImperativeHandle(ref, () => ({\n    handleShare,\n    addTextToImage,\n  }));\n  const loadImage = (src) => {\n    return new Promise((resolve, reject) => {\n      const img = new Image();\n      img.src = src;\n      img.onload = () => resolve(img);\n      img.onerror = (e) => reject(e);\n    });\n  };\n  const addTextToImage = () => {};\n\n  return (\n    <div className=\"container\">\n      {uploading && (\n        <div>\n          <div className=\"overlay\"></div>\n          <div className=\"loading-overlay\">\n            <BounceLoader color=\"#0C88EF\" loading={uploading} size={150} />\n          </div>\n        </div>\n      )}\n      <div className=\"content\">\n        <div className=\"wrapper\">\n          <h1 className=\"title\">Xem trước</h1>\n          <div className=\"crop-container\">\n            <Cropper\n              id=\"Cropper\"\n              image={props.image}\n              crop={crop}\n              zoom={zoom}\n              aspect={9 / 16}\n              onCropChange={setCrop}\n              onCropComplete={onCropComplete}\n              onZoomChange={setZoom}\n            />\n          </div>\n          <div className=\"controls\">\n            <input\n              type=\"range\"\n              value={zoom}\n              min={1}\n              max={3}\n              step={0.1}\n              aria-labelledby=\"Zoom\"\n              onChange={(e) => {\n                setZoom(e.target.value);\n              }}\n              className=\"zoom-range\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\nexport default ImageUploadBox;\n","import React, { useState, useRef } from \"react\";\nimport ImageUploadBox from \"./ImageUploadBox\";\nimport \"./AddStoryPage.css\";\nimport { useSelector } from \"react-redux\";\nimport axios from \"axios\";\nconst AddStoryPage = (props) => {\n  const [image, setImage] = useState(null);\n  const [imageLoaded, setImageLoaded] = useState(false);\n  const imageUploadBoxRef = useRef();\n  const currentUser = useSelector((state) => state.user.userinfo);\n  // console.log(\"currentUser\", currentUser);\n  const fullname = currentUser.first_name.concat(\" \", currentUser.last_name);\n  const handleImageUpload = (e) => {\n    const file = e.target.files[0];\n    if (file && file.type.match(/^image\\//)) {\n      const reader = new FileReader();\n      reader.onload = (event) => {\n        setImage(event.target.result);\n        setImageLoaded(true);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleCloseCropper = () => {\n    alert(\"Changes you made may not be saved.\");\n    setImageLoaded(false);\n  };\n  const handleButtonClick = () => {\n    imageUploadBoxRef.current.handleShare();\n  };\n  return (\n    <div className=\"container\">\n      <div className=\"nav\">\n        <div className=\"avatar-container\">\n          {imageLoaded && (\n            <div className=\"close-icon\" onClick={handleCloseCropper}></div>\n          )}\n          <h1>Your Story</h1>\n          <div className=\"infor\">\n            <div className=\"avatar\">\n              <img src={currentUser.photo} alt={currentUser.photo} />\n            </div>\n            <span className=\"name\">{fullname}</span>\n          </div>\n        </div>\n        {imageLoaded && (\n          <div>\n            <div className=\"button-add\">\n              <hr className=\"horizontalLine\" />\n              <div className=\"add\">\n                <div className=\"iconWrapper\">\n                  <div className=\"circle\"></div>\n                  <div className=\"textIcon\">Aa</div>\n                </div>\n\n                <button className=\"addText\" >\n                  Add text\n                </button>\n              </div>\n            </div>\n            <div className=\"submit\">\n              <button className=\"my-button\" onClick={handleButtonClick}>\n                Share to story\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {!imageLoaded ? (\n        <>\n          <div className=\"upload-container\">\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleImageUpload}\n              style={{ display: \"none\" }}\n              id=\"imageInput\"\n            />\n            <label htmlFor=\"imageInput\" className=\"upload-button\">\n              <div className=\"icon-upload\">\n                <div className=\"arrow-up\"></div>\n                <div className=\"horizontal-line\"></div>\n              </div>\n              <div className=\"upload-text\">Create Your Story</div>\n            </label>\n          </div>\n        </>\n      ) : (\n        <ImageUploadBox\n          image={image}\n          onClose={handleCloseCropper}\n          ref={imageUploadBoxRef}\n          currentUser={currentUser}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default AddStoryPage;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar unitConverter_1 = require(\"./helpers/unitConverter\");\nvar animation_1 = require(\"./helpers/animation\");\nvar bounce = (0, animation_1.createAnimation)(\"BounceLoader\", \"0% {transform: scale(0)} 50% {transform: scale(1.0)} 100% {transform: scale(0)}\", \"bounce\");\nfunction BounceLoader(_a) {\n    var _b = _a.loading, loading = _b === void 0 ? true : _b, _c = _a.color, color = _c === void 0 ? \"#000000\" : _c, _d = _a.speedMultiplier, speedMultiplier = _d === void 0 ? 1 : _d, _e = _a.cssOverride, cssOverride = _e === void 0 ? {} : _e, _f = _a.size, size = _f === void 0 ? 60 : _f, additionalprops = __rest(_a, [\"loading\", \"color\", \"speedMultiplier\", \"cssOverride\", \"size\"]);\n    var style = function (i) {\n        var animationTiming = i === 1 ? \"\".concat(1 / speedMultiplier, \"s\") : \"0s\";\n        return {\n            position: \"absolute\",\n            height: (0, unitConverter_1.cssValue)(size),\n            width: (0, unitConverter_1.cssValue)(size),\n            backgroundColor: color,\n            borderRadius: \"100%\",\n            opacity: 0.6,\n            top: 0,\n            left: 0,\n            animationFillMode: \"both\",\n            animation: \"\".concat(bounce, \" \").concat(2.1 / speedMultiplier, \"s \").concat(animationTiming, \" infinite ease-in-out\"),\n        };\n    };\n    var wrapper = __assign({ display: \"inherit\", position: \"relative\", width: (0, unitConverter_1.cssValue)(size), height: (0, unitConverter_1.cssValue)(size) }, cssOverride);\n    if (!loading) {\n        return null;\n    }\n    return (React.createElement(\"span\", __assign({ style: wrapper }, additionalprops),\n        React.createElement(\"span\", { style: style(1) }),\n        React.createElement(\"span\", { style: style(2) })));\n}\nexports.default = BounceLoader;\n"],"names":["ImageUploadBox","React","props","ref","useState","x","y","crop","setCrop","zoom","setZoom","croppedAreaPixels","setCroppedAreaPixels","console","log","uploading","setUploading","setIsUploaded","navigate","useNavigate","onCropComplete","useCallback","croppedArea","getCroppedImage","loadImage","image","canvas","document","createElement","ctx","getContext","width","height","drawImage","Promise","resolve","reject","toBlob","blob","Error","handleShare","croppedImageBlob","croppedImageFile","File","type","formData","FormData","append","currentUser","_id","entries","key","value","axios","headers","error","useImperativeHandle","addTextToImage","src","img","Image","onload","onerror","e","className","color","loading","size","id","aspect","onCropChange","onZoomChange","min","max","step","onChange","target","setImage","imageLoaded","setImageLoaded","imageUploadBoxRef","useRef","useSelector","state","user","userinfo","fullname","first_name","concat","last_name","handleCloseCropper","alert","onClick","photo","alt","current","onClose","accept","file","files","match","reader","FileReader","event","result","readAsDataURL","style","display","htmlFor","__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","__importStar","mod","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","exports","require","unitConverter_1","bounce","createAnimation","_a","_b","_c","_d","speedMultiplier","_e","cssOverride","_f","additionalprops","animationTiming","position","cssValue","backgroundColor","borderRadius","opacity","top","left","animationFillMode","animation","wrapper"],"sourceRoot":""}