"use strict";(self.webpackChunkbackbook=self.webpackChunkbackbook||[]).push([[462],{6039:function(e,n,t){t.d(n,{Z:function(){return v}});t(2791);var i=t(8561),s="CreatePost_create_post__H25Pi",a="CreatePost_header__75qoK",r="CreatePost_open_post__Fo5EF",o="CreatePost_splitter__T0Z8W",l="CreatePost_post_body__1FxeJ",c="CreatePost_createPost_icon__lsoUy",d=t(5736),u=t(9434),h=t(184);var v=function(e){var n=e.user,t=e.profile,v=(0,u.I0)(),f=(0,u.v9)((function(e){return e.createPost}));return(0,h.jsxs)("div",{className:s,children:[(0,h.jsxs)("div",{className:a,children:[(0,h.jsx)("img",{src:null===n||void 0===n?void 0:n.photo,alt:""}),(0,h.jsx)("div",{className:"".concat(r," hover2"),onClick:function(){v(d.bA())},children:f.postText?f.postText:" What's on your mind, ".concat(null===n||void 0===n?void 0:n.first_name)})]}),(0,h.jsx)("div",{className:o}),(0,h.jsxs)("div",{className:l,children:[(0,h.jsxs)("div",{className:"".concat(c," hover1"),children:[(0,h.jsx)(i.kL,{color:"#f3425f"}),"Live Video"]}),(0,h.jsxs)("div",{className:"".concat(c," hover1"),onClick:function(){v(d.bA("photo"))},children:[(0,h.jsx)(i.Pz,{color:"#4bbf67"}),"Photo/Video"]}),t?(0,h.jsxs)("div",{className:"createPost_icon hover1",children:[(0,h.jsx)("i",{className:"lifeEvent_icon"}),"Life Event"]}):(0,h.jsxs)("div",{className:"".concat(c," hover1"),children:[(0,h.jsx)(i.OH,{color:"#f7b928"}),"Feeling/Activity"]})]})]})}},9747:function(e,n,t){t.d(n,{C:function(){return l}});var i=t(4165),s=t(5861),a=t(3418),r=t(2388),o=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var t,s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.user,e.next=3,r.Z.post("".concat("","/api/v1/chats/create/private"),{userId:t},{withCredentials:!0});case 3:return s=e.sent,a=s.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){return(0,a.D)({mutationKey:"useGetChat",mutationFn:o})}},3624:function(e,n,t){t.d(n,{i:function(){return u}});var i=t(1413),s=t(4165),a=t(5861),r=t(3418),o=t(2388),l=t(7956),c=t(8122),d=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(n){var t,i,a,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,i=n.type,e.next=3,o.Z.put("".concat("","/api/v1/friends/").concat(i,"/").concat(t),{},{withCredentials:!0});case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u=function(e){return(0,r.D)({mutationKey:"useRelationship",mutationFn:d,onSuccess:function(n){var t,s=null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.newNotification;c.E.setQueryData(["getProfile",e],(function(e){if(!e)return e;var t=e;return t.data.friendship=n.data.friendship,e?(0,i.Z)((0,i.Z)({},e),{},{newData:t}):e})),s&&l.W.emit("notification",{notification:s})}})}},6118:function(e,n,t){t.r(n),t.d(n,{default:function(){return yn}});var i=t(4165),s=t(5861),a=t(885),r=t(1413),o=t(2791),l="style_profile__DqM6D",c="style_wrapper__U5JiK",d="style_top__bjRRL",u="style_header__TAF5P",h="style_content__4jspv",v="style_info__H2w68",f="style_photo_wrap__VIHIj",m="style_photo__TYySX",p="style_add_photo__V-dFB",x="style_name__5zG2r",_="style_friends__0NRw6",g="style_btns__6GSgv",j="style_no_posts__W+OE0",N="style_profile_menu_wrap__fZJxa",b="style_profile_menu__AQ2ZG",y="style_more__PNx+f",w="style_active__mq5mn",C="style_bottom__BmLyU",Z="style_posts__nRgT2",k="style_details__zN7mb",S="style_details_con__iKsD4",D="style_card_header__FN2xi",P="style_link__iRUY+",E="style_photos__5NEFP",R="style_photo_grid__o3uyv",F="style_friends_grid__uTTnY",I="style_photo_card__7To59",A="style_friend_card__+1RLi",O="style_friend_name__QSybH",L="style_open_cover_menu__pIdFZ",M="style_item__9Mtyc",U="style_sk1__VoRWF",V="style_loading__puS2P",q=t(7689),T=t(5439),z=t(7858),H=t(2388),W=t(9434),K=t(1087),Y=t(8561),J=t(184);function B(){return(0,J.jsxs)("div",{className:N,children:[(0,J.jsxs)("div",{className:b,children:[(0,J.jsx)(K.rU,{to:"#",className:w,children:"Posts"}),(0,J.jsx)(K.rU,{to:"#",className:"hover1",children:"About"}),(0,J.jsx)(K.rU,{to:"#",className:"hover1",children:"Friends"}),(0,J.jsx)(K.rU,{to:"#",className:"hover1",children:"Photos"})]}),(0,J.jsx)("div",{className:y,children:(0,J.jsx)(Y.bb,{})})]})}var Q=t(6900),G=t(3466),X=t(5039),$=t.n(X),ee=t(2579);var ne=function(e){var n=e.photosData,t=e.photosSkelton;return(0,J.jsxs)(G.Z,{className:E,children:[(0,J.jsxs)("div",{className:D,children:["Photos",(0,J.jsx)(K.rU,{className:P,to:"#",children:"See all photos"})]}),(0,J.jsxs)("div",{className:h,children:[(0,J.jsx)("div",{className:v,children:t?(0,J.jsx)(ee.Z,{width:80,height:10}):"".concat(n.total_count," photos")}),t?(0,J.jsx)("div",{className:V,children:(0,J.jsx)($(),{color:"#1876f2",loading:t,size:40})}):(0,J.jsx)("div",{className:R,children:n.resources&&n.resources.slice(0,9).map((function(e){return(0,J.jsx)("div",{className:I,style:{backgroundImage:"url(".concat(e.url,")")}},e.id)}))})]})]})};var te=function(e){var n=e.userData,t=e.userFriends,i=e.photosSkelton;return(0,J.jsxs)(G.Z,{children:[(0,J.jsxs)("div",{className:D,children:["Friends",(0,J.jsx)(K.rU,{className:P,to:"/friends/all",children:"See all Friends"})]}),(0,J.jsxs)("div",{className:h,children:[(0,J.jsx)("div",{className:v,children:i?(0,J.jsx)(ee.Z,{width:80,height:10}):"".concat(null===n||void 0===n?void 0:n.friendsCount," Friends")}),i?(0,J.jsx)("div",{className:V,children:(0,J.jsx)($(),{color:"#1876f2",loading:i,size:40})}):(0,J.jsx)("div",{className:F,children:t&&t.slice(0,9).map((function(e,n){return(0,J.jsxs)(K.rU,{to:"/profile/".concat(null===e||void 0===e?void 0:e.username),children:[(0,J.jsx)("div",{className:A,style:{backgroundImage:"url(".concat(null===e||void 0===e?void 0:e.photo,")")}}),(0,J.jsxs)("span",{className:O,children:[null===e||void 0===e?void 0:e.first_name," ",null===e||void 0===e?void 0:e.last_name," ",(null===e||void 0===e?void 0:e.confirmed)&&(0,J.jsx)("i",{style:{marginLeft:"5px"},className:"confirmed_comment_icon"})]})]},n)}))})]})]})},ie=t(4050),se=t(2483),ae="ProfilePhoto_wrap__iNlgy",re="ProfilePhoto_card__IwPpY",oe="ProfilePhoto_header__AKs9P",le="ProfilePhoto_content__AabGy",ce="ProfilePhoto_textarea_blue__6JnIp",de="ProfilePhoto_crooper__bWjz0",ue="ProfilePhoto_slider__b2RCM",he="ProfilePhoto_btns__R6yj5",ve="ProfilePhoto_old_photos__fzlHM",fe=t(7005),me=function(e){return new Promise((function(n,t){var i=new Image;i.addEventListener("load",(function(){return n(i)})),i.addEventListener("error",(function(e){return t(e)})),i.setAttribute("crossOrigin","anonymous"),i.src=e}))};function pe(e){return e*Math.PI/180}function xe(e,n,t){var i=pe(t);return{width:Math.abs(Math.cos(i)*e)+Math.abs(Math.sin(i)*n),height:Math.abs(Math.sin(i)*e)+Math.abs(Math.cos(i)*n)}}function _e(e,n){return ge.apply(this,arguments)}function ge(){return ge=(0,s.Z)((0,i.Z)().mark((function e(n,t){var s,a,r,o,l,c,d,u,h,v,f=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=f.length>2&&void 0!==f[2]?f[2]:0,a=f.length>3&&void 0!==f[3]?f[3]:{horizontal:!1,vertical:!1},e.next=4,me(n);case 4:if(r=e.sent,o=document.createElement("canvas"),l=o.getContext("2d")){e.next=9;break}return e.abrupt("return",null);case 9:return c=pe(s),d=xe(r.width,r.height,s),u=d.width,h=d.height,o.width=u,o.height=h,l.translate(u/2,h/2),l.rotate(c),l.scale(a.horizontal?-1:1,a.vertical?-1:1),l.translate(-r.width/2,-r.height/2),l.drawImage(r,0,0),v=l.getImageData(t.x,t.y,t.width,t.height),o.width=t.width,o.height=t.height,l.putImageData(v,0,0),e.abrupt("return",new Promise((function(e,n){o.toBlob((function(n){e(URL.createObjectURL(n))}),"image/jpeg")})));case 23:case"end":return e.stop()}}),e)}))),ge.apply(this,arguments)}var je=t(3418),Ne=t(9571),be=t(1656),ye=t(8059);var we=function(e){var n=e.showProfilePhoto,t=e.setShowProfilePhoto,r=e.pRef,l=e.photosData,c=(0,W.I0)(),d=(0,o.useState)(null),u=(0,a.Z)(d,2),h=u[0],v=u[1],f=(0,o.useState)(""),m=(0,a.Z)(f,2),p=m[0],x=m[1],_=(0,o.useState)({x:0,y:0}),g=(0,a.Z)(_,2),j=g[0],N=g[1],b=(0,o.useState)(1),y=(0,a.Z)(b,2),w=y[0],C=y[1],Z=(0,o.useState)(null),k=(0,a.Z)(Z,2),S=k[0],D=k[1],P=(0,o.useRef)(null),E=(0,o.useRef)(null),R=(0,o.useRef)(null);(0,Ne.Z)(R,n,(function(){t(!1)}));var F=(0,o.useCallback)(function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(h,S);case 3:if(t=e.sent,!n){e.next=10;break}C(1),N({x:0,y:0}),v(t),e.next=11;break;case 10:return e.abrupt("return",t);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n){return e.apply(this,arguments)}}(),[S]),I=(0,o.useCallback)((function(e,n){D(n)}),[]),A=(0,je.D)({mutationFn:function(e){return H.Z.post("".concat("","/api/v1/users/update/profile/photo"),e,{withCredentials:!0})}}),O=A.data,L=A.isLoading,M=A.isSuccess,U=(A.error,A.mutate),V=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var n,t,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(!1);case 3:return n=e.sent,e.next=6,fetch(n).then((function(e){return e.blob()}));case 6:t=e.sent,(s=new FormData).append("photo",t),s.append("text",p),U(s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){var e;M&&"success"===(null===O||void 0===O||null===(e=O.data)||void 0===e?void 0:e.status)&&(r.current.src=O.data.data.url,c((0,ye.Hh)(O.data.data.url)),setTimeout((function(){t(!1)}),200))}),[O,M]),(0,J.jsx)(se.Z,{children:(0,J.jsx)("div",{className:"".concat(ae," blur"),children:(0,J.jsxs)(G.Z,{className:re,innerRef:R,children:[(0,J.jsx)("input",{type:"file",ref:E,hidden:!0,onChange:function(e){var n=e.target.files[0];if(("image/jpeg"===n.type||"image/png"===n.type||"image/webp"===n.type||"image/gif"===n.type)&&!(n.size>5242880)){var t=new FileReader;t.readAsDataURL(n),t.onload=function(e){v(e.target.result)}}},accept:"image/jpeg,image/png,image/webp,image/gif"}),(0,J.jsxs)("div",{className:oe,children:["Update profile picture",(0,J.jsx)("div",{className:"small_circle",onClick:function(){return t(!1)},children:(0,J.jsx)("i",{className:"exit_icon"})})]}),(0,J.jsx)("div",{className:le,children:h?(0,J.jsxs)(be.Z,{loading:L,children:[(0,J.jsx)("textarea",{style:{fontSize:"".concat(p&&p.length>75?"15px":""),direction:"".concat((0,ie.Z)(p)?"rtl":"ltr")},placeholder:"Description",value:p,onChange:function(e){return x(e.target.value)},className:ce}),(0,J.jsx)("div",{className:de,children:(0,J.jsx)(fe.ZP,{image:h,crop:j,zoom:w,cropShape:"round",aspect:1,onCropChange:N,onCropComplete:I,onZoomChange:C})}),(0,J.jsxs)("div",{className:ue,children:[(0,J.jsx)("div",{className:"small_circle hover1",onClick:function(){return P.current.stepDown(),void C(P.current.value)},children:(0,J.jsx)("i",{className:"minus_icon"})}),(0,J.jsx)("input",{ref:P,type:"range",value:w,min:1,max:3,step:.1,"aria-labelledby":"Zoom",onChange:function(e){C(e.target.value)},className:"zoom-range"}),(0,J.jsx)("div",{className:"small_circle hover1",onClick:function(){return P.current.stepUp(),void C(P.current.value)},children:(0,J.jsx)("i",{className:"plus_icon"})})]}),(0,J.jsxs)("div",{className:he,children:[(0,J.jsx)("button",{className:"gray_btn",onClick:function(){return t(!1)},children:"Cancel"}),(0,J.jsx)("button",{className:"btn_blue",onClick:function(){return V()},children:"Save"})]})]}):(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)("button",{className:"light_blue_btn",onClick:function(){return E.current.click()},children:[(0,J.jsx)("i",{className:"plus_icon filter_blue"}),"Upload photo"]}),(null===l||void 0===l?void 0:l.profilePhotos.length)>0&&(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("div",{children:"Choose from old profile picture"}),(0,J.jsx)("div",{className:ve,children:null===l||void 0===l?void 0:l.profilePhotos.map((function(e){return(0,J.jsx)("img",{src:e.url,alt:e.id,onClick:function(){return v(e.url)}},e.id)}))})]}),(null===l||void 0===l?void 0:l.resources.length)>0&&(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("div",{children:"Choose from your profile photos"}),(0,J.jsx)("div",{className:ve,children:null===l||void 0===l?void 0:l.resources.map((function(e){return(0,J.jsx)("img",{src:e.url,alt:e.id,onClick:function(){return v(e.url)}},e.id)}))})]})]})})]})})})},Ce="Cover_cover__nPpqs",Ze="Cover_edit_cover_wrapper__urXf9",ke="Cover_edit_cover__-wcH3",Se="Cover_cover_upload_menu__1dl+C",De="Cover_open_cover_menu_item__NKNhN",Pe="Cover_cover_cropper__Ua70-",Ee="Cover_mediaClassName__pK4ES",Re="Cover_save_cover__fxlqw",Fe="Cover_btns__fmfK8",Ie="Cover_left__jSpWn",Ae="OldCovers_wrap__S6R3S",Oe="OldCovers_card__yXLVX",Le="OldCovers_header__UaOIy",Me="OldCovers_content__17R-6",Ue="OldCovers_old_photos__d51fQ";var Ve=function(e){var n=e.setShowOldCover,t=e.setImage,i=e.photosData,s=e.showOldCover,a=(0,o.useRef)(null);return(0,Ne.Z)(a,s,(function(){n(!1)})),(0,J.jsx)("div",{className:"".concat(Ae," blur"),children:(0,J.jsxs)(G.Z,{className:Oe,innerRef:a,children:[(0,J.jsxs)("div",{className:Le,children:["Update Cover Photo",(0,J.jsx)("div",{className:"small_circle",onClick:function(){return n(!1)},children:(0,J.jsx)("i",{className:"exit_icon"})})]}),(0,J.jsxs)("div",{className:Me,children:[(null===i||void 0===i?void 0:i.profileCovers.length)>0&&(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("div",{children:"Choose from old cover picture"}),(0,J.jsx)("div",{className:Ue,children:null===i||void 0===i?void 0:i.profileCovers.map((function(e){return(0,J.jsx)("img",{src:e.url,alt:e.id,onClick:function(){t(e.url),n(!1)}},e.id)}))})]}),(null===i||void 0===i?void 0:i.resources.length)>0&&(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("div",{children:"Choose from your profile photos"}),(0,J.jsx)("div",{className:Ue,children:null===i||void 0===i?void 0:i.resources.map((function(e){return(0,J.jsx)("img",{src:e.url,alt:e.id,onClick:function(){t(e.url),n(!1)}},e.id)}))})]})]})]})})};var qe=function(e){var n=e.isVisitor,t=e.user,r=e.photosData,l=(0,W.I0)(),c=(0,o.useState)(!1),d=(0,a.Z)(c,2),u=d[0],h=d[1],v=(0,o.useState)(!1),f=(0,a.Z)(v,2),m=f[0],p=f[1],x=(0,o.useRef)(),_=(0,o.useState)(null),g=(0,a.Z)(_,2),j=g[0],N=g[1],b=(0,o.useRef)(null),y=(0,o.useRef)(null),w=(0,o.useState)({x:0,y:0}),C=(0,a.Z)(w,2),Z=C[0],k=C[1],S=(0,o.useState)(1),D=(0,a.Z)(S,2),P=D[0],E=D[1],R=(0,o.useState)(null),F=(0,a.Z)(R,2),I=F[0],A=F[1],O=(0,o.useState)(),L=(0,a.Z)(O,2),M=L[0],U=L[1],V=(0,o.useState)(),q=(0,a.Z)(V,2),T=q[0],z=q[1];(0,o.useEffect)((function(){U(y.current.clientWidth),z(y.current.clientHeight)}),[window.innerWidth]),(0,o.useEffect)((function(){document.documentElement.style.overflow=m?"hidden":"auto"}),[m]);var K=(0,o.useCallback)(function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(j,I);case 3:if(t=e.sent,!n){e.next=10;break}E(1),k({x:0,y:0}),N(t),e.next=11;break;case 10:return e.abrupt("return",t);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n){return e.apply(this,arguments)}}(),[I]),Y=(0,o.useCallback)((function(e,n){A(n)}),[]),B=(0,je.D)({mutationFn:function(e){return H.Z.post("".concat("","/api/v1/users/update/profile/cover"),e,{withCredentials:!0})}}),Q=B.data,X=B.isLoading,$=B.isSuccess,ee=B.mutate,ne=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var n,t,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K(!1);case 3:return n=e.sent,e.next=6,fetch(n).then((function(e){return e.blob()}));case 6:t=e.sent,(s=new FormData).append("photo",t),ee(s),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){var e;$&&"success"===(null===Q||void 0===Q||null===(e=Q.data)||void 0===e?void 0:e.status)&&(y.current.style.backgroundImage="url(".concat(Q.data.data.url,")"),l((0,ye.n$)(Q.data.data.url)),setTimeout((function(){N(null)}),200))}),[Q,$]),(0,Ne.Z)(x,u,(function(){h(!1)})),(0,J.jsxs)("div",{className:Ce,ref:y,style:{backgroundImage:"".concat(X?"":"url(".concat(null===t||void 0===t?void 0:t.cover,")"))},children:[j&&(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)("div",{className:Re,children:[(0,J.jsxs)("div",{className:Ie,children:[(0,J.jsx)("i",{className:"public_icon"}),"Your cover is public"]}),(0,J.jsxs)("div",{className:Fe,children:[(0,J.jsx)("button",{className:"gray_btn opacity_btn",onClick:function(){return N(null)},children:"Cancel"}),(0,J.jsx)("button",{className:"btn_blue ",onClick:function(){return ne()},children:"Save"})]})]}),(0,J.jsx)(be.Z,{loading:X,children:(0,J.jsx)("div",{className:Pe,children:(0,J.jsx)(fe.ZP,{classes:{mediaClassName:Ee},image:j,crop:Z,zoom:P,aspect:M/T,onCropChange:k,onCropComplete:Y,onZoomChange:E,showGrid:!0,objectFit:"horizontal-cover"})})})]}),!n&&(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)("div",{className:Ze,children:[(0,J.jsx)("input",{type:"file",ref:b,hidden:!0,onChange:function(e){var n=e.target.files[0];if(("image/jpeg"===n.type||"image/png"===n.type||"image/webp"===n.type||"image/gif"===n.type)&&!(n.size>5242880)){var t=new FileReader;t.readAsDataURL(n),t.onload=function(e){N(e.target.result)}}},accept:"image/jpeg,image/png,image/webp,image/gif"}),(0,J.jsxs)("div",{className:ke,onClick:function(){return h((function(e){return!e}))},children:[(0,J.jsx)("i",{className:"camera_filled_icon"}),(0,J.jsx)("span",{children:"Add Cover Photo"})]}),u&&(0,J.jsxs)(G.Z,{className:Se,innerRef:x,children:[(0,J.jsxs)("div",{className:"".concat(De," hover1"),onClick:function(){return p(!0)},children:[(0,J.jsx)("i",{className:"photo_icon"}),"Select Photo"]}),(0,J.jsxs)("div",{className:"".concat(De," hover1"),onClick:function(){return b.current.click()},children:[(0,J.jsx)("i",{className:"upload_icon"}),"Upload Photo"]})]})]}),m&&(0,J.jsx)(Ve,{showOldCover:m,setShowOldCover:p,setImage:N,photosData:r})]})]})},Te=t(4942),ze="intro_card_header__DlI+M",He="intro_content__ICZOE",We="intro_info_profile__vJann",Ke="intro_bio__7rHvU",Ye="intro_edit_btn__bx27U",Je="intro_bio_wrap__NCPcX",Be="intro_textarea_blue__BVbhD",Qe="intro_remaining__M0Hye",Ge="intro_save_btns__vgRO6",Xe="intro_select_rel__J41Q7";var $e=function(e){var n=e.innerRef,t=e.infos,i=e.handleChange,s=e.setShow,a=e.max,r=e.remain,l=e.updateDetails,c=e.details,d=e.name,u=e.placeholder,h=e.rel,v=!h&&(null===c||void 0===c?void 0:c[d])===(null===t||void 0===t?void 0:t[d]),f=(0,o.useRef)(null);return(0,o.useEffect)((function(){f.current.focus()}),[]),(0,J.jsxs)("div",{className:Je,ref:n,children:[h?(0,J.jsxs)("select",{ref:f,className:Xe,name:d,value:t.relationship,onChange:i,children:[(0,J.jsx)("option",{value:"",disabled:!0,defaultValue:!0,children:"Select status"}),(0,J.jsx)("option",{value:"Single",children:"Single"}),(0,J.jsx)("option",{value:"In a realationship",children:"In a relationship"}),(0,J.jsx)("option",{value:"Married",children:"Married"}),(0,J.jsx)("option",{value:"Divorced",children:"Divorced"}),(0,J.jsx)("option",{value:"",children:"Remove relationship"})]}):(0,J.jsx)("textarea",{ref:f,style:{fontSize:"".concat(null!==t&&void 0!==t&&t[d]&&(null===t||void 0===t?void 0:t[d].length)>75?"15px":""),direction:"".concat((0,ie.Z)(null===t||void 0===t?void 0:t[d])?"rtl":"ltr")},placeholder:u,value:null===t||void 0===t?void 0:t[d],onChange:i,className:Be,maxLength:a,name:d}),"bio"===d&&(0,J.jsxs)("div",{className:Qe,children:[r," characters remaining"]}),(0,J.jsxs)("div",{className:Ge,children:[(0,J.jsx)("button",{className:"gray_btn",onClick:function(){return s(!1)},children:"Cancel"}),(0,J.jsx)("button",{disabled:v,className:v?"gray_btn":"btn_blue",onClick:function(){l(),s(!1)},style:{color:"".concat(v?"#bcc0c4":"#fff"),cursor:"".concat(v?"not-allowed":"pointer")},children:"Save"})]})]})},en="EditDetails_wrap__kbn1A",nn="EditDetails_card__CC6IA",tn="EditDetails_header__yEJL7",sn="EditDetails_content__S8Hyu",an="EditDetails_h_col__wIlQR",rn="EditDetails_t1__MT+VL",on="EditDetails_t2__5bZUh",ln="EditDetails_details_header__cUE55",cn="EditDetails_add_details_flex__9ptm5",dn="EditDetails_info_profile__77x90",un="EditDetails_underline__YMLbm";var hn=function(e){var n=e.img,t=e.value,i=e.placeholder,s=e.name,r=e.handleChange,l=e.updateDetails,c=e.infos,d=e.text,u=e.max,h=e.details,v=e.rel,f=(0,o.useState)(!1),m=(0,a.Z)(f,2),p=m[0],x=m[1],_=(0,o.useRef)(null);return(0,Ne.Z)(_,p,(function(){x(!1)})),(0,J.jsxs)("div",{children:[(0,J.jsx)("div",{className:cn,onClick:function(){return x(!0)},ref:_,children:t?(0,J.jsxs)("div",{className:dn,children:[(0,J.jsx)("img",{src:"../../../icons/".concat(n,".png"),alt:""}),t,(0,J.jsx)("i",{className:"edit_icon",style:{marginLeft:"auto"}})]}):(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("i",{className:"rounded_plus_icon"}),(0,J.jsxs)("span",{className:un,children:["Add ",d]})]})}),p&&(0,J.jsx)($e,{innerRef:_,placeholder:i,name:s,handleChange:r,updateDetails:l,infos:c,details:h,setShow:x,max:u,rel:v})]})};var vn=function(e){var n=e.showEdit,t=e.setShowEdit,i=e.infos,s=e.handleChange,a=e.updateDetails,r=e.details,l=(0,o.useRef)(null);return(0,Ne.Z)(l,n,(function(){t(!1)})),(0,J.jsx)(se.Z,{children:(0,J.jsx)("div",{className:"".concat(en," blur"),children:(0,J.jsxs)(G.Z,{className:nn,innerRef:l,children:[(0,J.jsxs)("div",{className:tn,children:["Edit Details",(0,J.jsx)("div",{className:"small_circle",onClick:function(){return t(!1)},children:(0,J.jsx)("i",{className:"exit_icon"})})]}),(0,J.jsx)("div",{className:sn,children:(0,J.jsxs)("div",{className:an,children:[(0,J.jsx)("span",{className:rn,children:"Customize your intro"}),(0,J.jsx)("span",{className:on,children:"Details you select will be public."}),(0,J.jsx)("div",{className:ln,children:"Other Name"}),(0,J.jsx)(hn,{value:null===r||void 0===r?void 0:r.otherName,img:"studies",placeholder:"Add other name",name:"otherName",text:"Other Name",handleChange:s,updateDetails:a,infos:i,details:r,max:20}),(0,J.jsx)("div",{className:ln,children:"Work"}),(0,J.jsx)(hn,{value:null===r||void 0===r?void 0:r.job,img:"job",placeholder:"Add a job",name:"job",text:"A job",handleChange:s,updateDetails:a,infos:i,details:r,max:20}),(0,J.jsx)(hn,{value:null===r||void 0===r?void 0:r.workplace,img:"job",placeholder:"Add a workplace",name:"workplace",text:"A workplace",handleChange:s,updateDetails:a,infos:i,details:r,max:20}),(0,J.jsx)("div",{className:ln,children:"Education"}),(0,J.jsx)(hn,{value:null===r||void 0===r?void 0:r.highSchool,img:"studies",placeholder:"Add a high School",name:"highSchool",text:"A highSchool",handleChange:s,updateDetails:a,infos:i,details:r,max:20}),(0,J.jsx)(hn,{value:null===r||void 0===r?void 0:r.college,img:"studies",placeholder:"Add a college",name:"college",text:"A college",handleChange:s,updateDetails:a,infos:i,details:r,max:20}),(0,J.jsx)("div",{className:ln,children:"Current City"}),(0,J.jsx)(hn,{value:null===r||void 0===r?void 0:r.currentCity,img:"home",placeholder:"Add a current city",name:"currentCity",text:"A current city",handleChange:s,updateDetails:a,infos:i,details:r,max:20}),(0,J.jsx)("div",{className:ln,children:"Hometown"}),(0,J.jsx)(hn,{value:null===r||void 0===r?void 0:r.homeTown,img:"from",placeholder:"Add a hometown",name:"homeTown",text:"A hometown",handleChange:s,updateDetails:a,infos:i,details:r,max:20}),(0,J.jsx)("div",{className:ln,children:"Relationship"}),(0,J.jsx)(hn,{value:null===r||void 0===r?void 0:r.relationship,img:"relationship",placeholder:"Add a relationship",name:"relationship",text:"A relationship",handleChange:s,updateDetails:a,infos:i,details:r,max:20,rel:!0}),(0,J.jsx)("div",{className:ln,children:"Instagram"}),(0,J.jsx)(hn,{value:null===r||void 0===r?void 0:r.instagram,img:"instagram",placeholder:"Add a instagram",name:"instagram",text:"A instagram",handleChange:s,updateDetails:a,infos:i,details:r,max:20})]})})]})})})},fn=t(8122);var mn=function(e){var n=e.userData,t=e.isVisitor,i=e.showEdit,s=e.setShowEdit,l=e.profileSkelton,c=null===n||void 0===n?void 0:n.details,d=(0,o.useState)(c),u=(0,a.Z)(d,2),h=u[0],v=u[1],f=(0,o.useState)(c),m=(0,a.Z)(f,2),p=m[0],x=m[1],_=(0,o.useState)(!1),g=(0,a.Z)(_,2),j=g[0],N=g[1],b=(0,o.useState)(null!==p&&void 0!==p&&p.bio?100-(null===p||void 0===p?void 0:p.bio.length):100),y=(0,a.Z)(b,2),w=y[0],C=y[1],Z=(0,je.D)({mutationKey:"updateDetails",mutationFn:function(){return H.Z.put("".concat("","/api/v1/users/update/profile/details"),{infos:p},{withCredentials:!0})},onSuccess:function(e){fn.E.setQueryData(["getProfile",n.username],(function(n){var t=n;return t.data.user.details=e.data.data.details,n?(0,r.Z)((0,r.Z)({},n),{},{newData:t}):n}))}}),k=Z.data,S=Z.isSuccess,D=Z.mutate,P=function(){D()};return(0,o.useEffect)((function(){v(c),x(c),C(null!==c&&void 0!==c&&c.bio?100-(null===c||void 0===c?void 0:c.bio.length):100)}),[c]),(0,o.useEffect)((function(){var e;S&&"success"===(null===k||void 0===k||null===(e=k.data)||void 0===e?void 0:e.status)&&(v(k.data.data.details),x(k.data.data.details),setTimeout((function(){N(!1)}),500))}),[k,S]),(0,o.useEffect)((function(){document.documentElement.style.overflow=i?"hidden":"auto"}),[i]),(0,J.jsxs)(G.Z,{children:[(0,J.jsx)("div",{className:ze,children:"Intro"}),l?(0,J.jsx)(ee.Z,{count:3,height:20,width:"100%"}):(0,J.jsxs)("div",{className:He,children:[(null===h||void 0===h?void 0:h.bio)&&!j&&(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("div",{className:Ke,style:{direction:"".concat((0,ie.Z)(null===h||void 0===h?void 0:h.bio)?"rtl":"ltr")},children:null===h||void 0===h?void 0:h.bio}),t&&(0,J.jsx)("div",{className:"line-spliter"})]}),j&&(0,J.jsx)($e,{remain:w,infos:p,details:h,handleChange:function(e){var n=e.target,t=n.name,i=n.value;x((0,r.Z)((0,r.Z)({},p),{},(0,Te.Z)({},t,i.replace(/(^[ \t]*\n)/gm,"")))),C(100-e.target.value.length)},setShow:N,updateDetails:P,name:"bio",placeholder:"Describe who you are",max:100}),!t&&!j&&(0,J.jsxs)("button",{className:"gray_btn ".concat(Ye),onClick:function(){return N((function(e){return!e}))},children:[null!==h&&void 0!==h&&h.bio?"Edit":"Add"," Bio"]}),((null===h||void 0===h?void 0:h.job)||(null===h||void 0===h?void 0:h.workplace))&&(0,J.jsxs)("div",{className:We,children:[(0,J.jsx)("img",{src:"../../../icons/job.png",alt:""}),(0,J.jsxs)("span",{children:["works",(null===h||void 0===h?void 0:h.job)&&(0,J.jsxs)("span",{children:[" as ",null===h||void 0===h?void 0:h.job]}),(null===h||void 0===h?void 0:h.workplace)&&(0,J.jsxs)("span",{children:[" ","at ",(0,J.jsx)("b",{children:null===h||void 0===h?void 0:h.workplace})]})]})]}),(null===h||void 0===h?void 0:h.relationship)&&(0,J.jsxs)("div",{className:We,children:[(0,J.jsx)("img",{src:"../../../icons/relationship.png",alt:""}),null===h||void 0===h?void 0:h.relationship]}),(null===h||void 0===h?void 0:h.college)&&(0,J.jsxs)("div",{className:We,children:[(0,J.jsx)("img",{src:"../../../icons/studies.png",alt:""}),"studied at ",null===h||void 0===h?void 0:h.college]}),(null===h||void 0===h?void 0:h.highSchool)&&(0,J.jsxs)("div",{className:We,children:[(0,J.jsx)("img",{src:"../../../icons/studies.png",alt:""}),"studied at ",null===h||void 0===h?void 0:h.highSchool]}),(null===h||void 0===h?void 0:h.currentCity)&&(0,J.jsxs)("div",{className:We,children:[(0,J.jsx)("img",{src:"../../../icons/home.png",alt:""}),"Lives in ",null===h||void 0===h?void 0:h.currentCity]}),(null===h||void 0===h?void 0:h.homeTown)&&(0,J.jsxs)("div",{className:We,children:[(0,J.jsx)("img",{src:"../../../icons/from.png",alt:""}),"From ",null===h||void 0===h?void 0:h.homeTown]}),(null===h||void 0===h?void 0:h.instagram)&&(0,J.jsxs)("div",{className:We,children:[(0,J.jsx)("img",{src:"../../../icons/instagram.png",alt:""}),(0,J.jsx)("a",{href:"https://www.instagram.com/".concat(null===h||void 0===h?void 0:h.instagram),target:"_blank",rel:"noreferrer",children:null===h||void 0===h?void 0:h.instagram})]}),(null===n||void 0===n?void 0:n.createdAt)&&(0,J.jsxs)("div",{className:We,children:[(0,J.jsx)("img",{width:20,src:"../../../icons/join.png",alt:"joindAT"}),"Joined"," ",new Date(null===n||void 0===n?void 0:n.createdAt).toLocaleString("default",{month:"long",year:"numeric",day:"numeric"})]}),!t&&(0,J.jsx)("button",{className:"gray_btn ".concat(Ye),onClick:function(){return s((function(e){return!e}))},children:"Edit Details"}),i&&(0,J.jsx)(vn,{showEdit:i,setShowEdit:s,infos:p,handleChange:function(e){var n=e.target,t=n.name,i=n.value;x((0,r.Z)((0,r.Z)({},p),{},(0,Te.Z)({},t,i)))},updateDetails:P,details:h})]})]})};function pn(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var xn=t(9747),_n=t(3624);var gn=function(e){var n=e.friendship,t=e.userID,i=e.usernameID,s=(0,q.s0)(),r=(0,o.useState)(n),l=(0,a.Z)(r,2),c=l[0],d=l[1],u=(0,o.useState)(!1),h=(0,a.Z)(u,2),v=h[0],f=h[1],m=(0,o.useState)(!1),p=(0,a.Z)(m,2),x=p[0],_=p[1],j=(0,o.useRef)(null),N=(0,o.useRef)(null);(0,Ne.Z)(j,v,(function(){f(!1)})),(0,Ne.Z)(N,x,(function(){_(!1)}));var b=(0,_n.i)(i),y=b.mutate,w=b.data,C=b.isSuccess,Z=(0,xn.C)(),k=Z.mutate,S=Z.data,D=Z.isSuccess,P=function(){y({id:t,type:"unfollow"})},E=function(){y({id:t,type:"follow"})},R=function(){y({id:c.requestID,type:"cancel"})};return(0,o.useEffect)((function(){C&&d(w.data.friendship)}),[w]),(0,o.useEffect)((function(){d(n)}),[n]),(0,o.useEffect)((function(){"success"===(null===S||void 0===S?void 0:S.status)&&s("/messages/".concat(S.data.chat._id))}),[D]),(0,J.jsxs)("div",{className:g,children:[null!==c&&void 0!==c&&c.friends?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)("button",{className:"gray_btn",onClick:function(){return f((function(e){return!e}))},children:[(0,J.jsx)("img",{src:"../../../icons/friends.png",alt:""}),(0,J.jsx)("span",{children:"Friends"})]}),v&&(0,J.jsxs)(G.Z,{className:L,innerRef:j,children:[null!==c&&void 0!==c&&c.following?(0,J.jsxs)("div",{className:"".concat(M," hover1"),onClick:function(){return P()},children:[(0,J.jsx)("img",{src:"../../../icons/unfollowOutlined.png",alt:""}),"Unfollow"]}):(0,J.jsxs)("div",{className:"".concat(M," hover1"),onClick:function(){return E()},children:[(0,J.jsx)("img",{src:"../../../icons/unfollowOutlined.png",alt:""}),"Follow"]}),(0,J.jsxs)("div",{className:"".concat(M," hover1"),onClick:function(){y({id:c.requestID,type:"remove"})},children:[(0,J.jsx)("i",{className:"unfriend_outlined_icon"}),"Unfriend"]})]})]}):!(null!==c&&void 0!==c&&c.requestSent)&&!(null!==c&&void 0!==c&&c.requestReceived)&&(0,J.jsxs)("button",{className:"btn_blue",onClick:function(){y({id:t,type:"add"})},children:[(0,J.jsx)("img",{src:"../../../icons/addFriend.png",alt:"",className:"invert"}),(0,J.jsx)("span",{children:"Add Friend"})]}),null!==c&&void 0!==c&&c.requestSent?(0,J.jsxs)("button",{className:"btn_blue",onClick:function(){return R()},children:[(0,J.jsx)("img",{src:"../../../icons/cancelRequest.png",className:"invert",alt:""}),(0,J.jsx)("span",{children:"Cancel Request"})]}):(null===c||void 0===c?void 0:c.requestReceived)&&(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)("button",{className:"gray_btn",onClick:function(){return _((function(e){return!e}))},children:[(0,J.jsx)("img",{src:"../../../icons/friends.png",alt:""}),(0,J.jsx)("span",{children:"Respond"})]}),x&&(null===c||void 0===c?void 0:c.requestReceived)&&(0,J.jsxs)(G.Z,{className:L,innerRef:N,children:[(0,J.jsx)("div",{className:"".concat(M," hover1"),onClick:function(){y({id:c.requestID,type:"acceptRequest"})},children:"Confirm"}),(0,J.jsx)("div",{className:"".concat(M," hover1"),onClick:function(){return R()},children:"Delete"})]})]}),null!==c&&void 0!==c&&c.following?(0,J.jsxs)("button",{className:"gray_btn",onClick:function(){return P()},children:[(0,J.jsx)("img",{src:"../../../icons/follow.png",alt:""}),(0,J.jsx)("span",{children:"Following"})]}):(0,J.jsxs)("button",{className:"btn_blue",onClick:function(){return E()},children:[(0,J.jsx)("img",{src:"../../../icons/follow.png",className:"invert",alt:""}),(0,J.jsx)("span",{style:{color:"#fff"},children:"Follow"})]}),(0,J.jsxs)("button",{className:null!==c&&void 0!==c&&c.friends?"btn_blue":"gray_btn",onClick:function(){k({user:t})},children:[(0,J.jsx)("img",{src:"../../../icons/message.png",className:(null===c||void 0===c?void 0:c.friends)&&"invert",alt:""}),(0,J.jsx)("span",{children:"Message"})]})]})},jn=t(9348),Nn=t(6039),bn=t(7237);var yn=function(){var e,n,t,N,b,y,w=(0,W.v9)((function(e){return(0,r.Z)({},e.user.userinfo)})),D=(0,q.s0)(),P=(0,o.useState)(!1),E=(0,a.Z)(P,2),R=E[0],F=E[1],I=(0,o.useState)(),A=(0,a.Z)(I,2),O=A[0],L=A[1],M=(0,o.useState)(!1),V=(0,a.Z)(M,2),K=V[0],Y=V[1],X=(0,q.UO)().username,$=(0,o.useRef)(null),ie=(0,o.useRef)(null),se=function(){var e=(0,o.useState)(pn()),n=(0,a.Z)(e,2),t=n[0],i=n[1];return(0,o.useEffect)((function(){function e(){i(pn())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),t}().height,ae=(0,jn.YD)(),re=ae.ref,oe=ae.inView,le=X||w.username,ce=!(le===w.username),de=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.Z.get("".concat("","/api/v1/users/getProfile/").concat(le,"?sort=-createdAt&limit=10"),{withCredentials:!0});case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.Z.get("".concat("","/api/v1/users/getProfile/").concat(le,"/photos"),{withCredentials:!0});case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var t,s,a,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.pageParam,s=void 0===t?1:t,e.next=3,H.Z.get("".concat("","/api/v1/users/getProfile/").concat(le,"/posts?sort=-createdAt&limit=10&page=").concat(s),{withCredentials:!0});case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ve=(0,T.a)({queryKey:["getProfile",le],queryFn:de,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),fe=ve.isLoading,me=ve.isError,pe=ve.data,xe=ve.isFetching,_e=(0,T.a)({queryKey:["getPhotos",le],queryFn:ue,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),ge=_e.isLoading,je=_e.isError,Ne=_e.data,be=_e.isFetching,ye=(0,z.N)({queryKey:["getProfilePosts",le],queryFn:he,getNextPageParam:function(e,n){return e.length<10?void 0:n.length+1},refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),Ze=ye.isLoading,ke=ye.isSuccess,Se=ye.data,De=ye.isError,Pe=ye.fetchNextPage,Ee=ye.hasNextPage,Re=ye.isFetchingNextPage,Fe=ye.isFetching,Ie=null===pe||void 0===pe||null===(e=pe.data)||void 0===e?void 0:e.user,Ae=null===pe||void 0===pe||null===(n=pe.data)||void 0===n?void 0:n.friends,Oe=null===pe||void 0===pe||null===(t=pe.data)||void 0===t?void 0:t.friendship,Le=fe||xe,Me=ge||be,Ue=Ze||Fe;return(0,o.useEffect)((function(){window.scrollTo(0,0)}),[le]),(0,o.useEffect)((function(){document.documentElement.style.overflow=R?"hidden":"auto"}),[R]),(0,o.useEffect)((function(){oe&&Pe()}),[oe]),(0,o.useEffect)((function(){var e;L(null===(e=ie.current)||void 0===e?void 0:e.clientHeight)}),[null===(N=ie.current)||void 0===N?void 0:N.clientHeight,pe,Ne]),(0,o.useEffect)((function(){(me||je||De)&&D("/404")}),[me,je,De]),(0,J.jsxs)("div",{className:l,children:[(0,J.jsx)("div",{className:d,children:(0,J.jsxs)("div",{className:c,children:[(0,J.jsxs)("div",{className:u,children:[Le?(0,J.jsx)(ee.Z,{className:Ce,style:{transform:"translateY(-15px)"}}):(0,J.jsx)(qe,{profileSkelton:Le,isVisitor:ce,user:Ie,photosData:null===Ne||void 0===Ne?void 0:Ne.data}),(0,J.jsxs)("div",{className:h,children:[(0,J.jsx)("div",{className:f,children:(0,J.jsxs)("div",{className:m,children:[Le?(0,J.jsx)(ee.Z,{width:"168px",height:"168px",circle:!0,containerClassName:"avatar-skeleton"}):(0,J.jsx)("img",{src:null===Ie||void 0===Ie?void 0:Ie.photo,alt:null===Ie||void 0===Ie?void 0:Ie.first_name,ref:$}),!ce&&!Le&&(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("div",{className:"".concat(p," small_circle hover1"),onClick:function(){return F((function(e){return!e}))},children:(0,J.jsx)("i",{className:"camera_filled_icon"})}),R&&(0,J.jsx)(we,{setShowProfilePhoto:F,showProfilePhoto:R,pRef:$,photosData:null===Ne||void 0===Ne?void 0:Ne.data})]})]})}),(0,J.jsxs)("div",{className:v,children:[Le?(0,J.jsxs)("div",{className:U,children:[(0,J.jsx)(ee.Z,{width:220,height:25}),(0,J.jsx)(ee.Z,{width:80,height:15})]}):(0,J.jsxs)("h1",{className:x,children:["".concat(null===Ie||void 0===Ie?void 0:Ie.first_name," ").concat(null===Ie||void 0===Ie?void 0:Ie.last_name),(null===Ie||void 0===Ie?void 0:Ie.confirmed)&&(0,J.jsx)("i",{style:{marginLeft:"10px"},className:"confirmed_icon"}),(null===Ie||void 0===Ie||null===(b=Ie.details)||void 0===b?void 0:b.otherName)&&(0,J.jsx)("span",{children:"(".concat(null===Ie||void 0===Ie||null===(y=Ie.details)||void 0===y?void 0:y.otherName,")")})]}),Le?(0,J.jsx)(ee.Z,{width:80,height:15}):(0,J.jsxs)("span",{className:_,children:[null===Ie||void 0===Ie?void 0:Ie.friendsCount," friends"]})]}),!ce&&(Le?(0,J.jsxs)("div",{className:g,children:[(0,J.jsx)(ee.Z,{width:"140px",className:"gray_btn"}),(0,J.jsx)(ee.Z,{width:"140px",className:"gray_btn"})]}):(0,J.jsxs)("div",{className:g,children:[(0,J.jsxs)("button",{className:"btn_blue",children:[(0,J.jsx)("img",{src:"../../../icons/plus.png",alt:"",className:"invert"}),(0,J.jsx)("span",{style:{color:"#fff"},children:"Add to story"})]}),(0,J.jsxs)("button",{className:"gray_btn",onClick:function(){return Y(!0)},children:[(0,J.jsx)("i",{className:"edit_icon"}),(0,J.jsx)("span",{children:"Edit profile"})]})]})),ce&&(Le?(0,J.jsxs)("div",{className:g,children:[(0,J.jsx)(ee.Z,{width:"140px",className:"gray_btn"}),(0,J.jsx)(ee.Z,{width:"140px",className:"gray_btn"})]}):(0,J.jsx)(gn,{friendship:Oe,userID:null===Ie||void 0===Ie?void 0:Ie._id,usernameID:le}))]})]}),(0,J.jsx)("div",{className:"line"}),(0,J.jsx)(B,{})]})}),(0,J.jsx)("div",{className:C,children:(0,J.jsxs)("div",{className:c,children:[(0,J.jsx)("div",{className:k,children:(0,J.jsxs)("div",{ref:ie,className:S,style:{top:"".concat(O<se?"65px":"calc(100vh - ".concat(O,"px - 10px)"))},children:[(0,J.jsx)(mn,{profileSkelton:Le,isVisitor:ce,userData:Ie,showEdit:K,setShowEdit:Y}),Ne&&(0,J.jsx)(ne,{photosSkelton:Me,photosData:null===Ne||void 0===Ne?void 0:Ne.data}),Ae&&(0,J.jsx)(te,{photosSkelton:Me,userData:Ie,userFriends:Ae})]})}),(0,J.jsxs)("div",{className:Z,children:[!ce&&(0,J.jsx)(Nn.Z,{user:w}),Ue&&(0,J.jsx)(bn.Z,{}),ke&&!Ze&&(null===Se||void 0===Se?void 0:Se.pages.map)&&(null===Se||void 0===Se?void 0:Se.pages.map((function(e,n){return(0,J.jsx)(o.Fragment,{children:e.data.length>0?e.data.map((function(e){return(0,J.jsx)(Q.Z,{post:e},e._id)})):(0,J.jsx)(G.Z,{className:j,children:"No posts available"})},n)}))),(0,J.jsx)("div",{ref:re,children:Re?(0,J.jsx)(bn.Z,{}):Ee?"Load Newer":"Nothing more to load"})]})]})})]})}},9348:function(e,n,t){t.d(n,{YD:function(){return g}});var i=t(885),s=t(5671),a=t(3144),r=t(136),o=t(7277),l=t(2791);function c(){return c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},c.apply(this,arguments)}var d=new Map,u=new WeakMap,h=0,v=void 0;function f(e){return Object.keys(e).sort().filter((function(n){return void 0!==e[n]})).map((function(n){return"".concat(n,"_").concat("root"===n?(t=e.root)?(u.has(t)||(h+=1,u.set(t,h.toString())),u.get(t)):"0":e[n]);var t})).toString()}function m(e){var n=f(e),t=d.get(n);if(!t){var i,s=new Map,a=new IntersectionObserver((function(n){n.forEach((function(n){var t,a=n.isIntersecting&&i.some((function(e){return n.intersectionRatio>=e}));e.trackVisibility&&"undefined"===typeof n.isVisible&&(n.isVisible=a),null==(t=s.get(n.target))||t.forEach((function(e){e(a,n)}))}))}),e);i=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),t={id:n,observer:a,elements:s},d.set(n,t)}return t}function p(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v;if("undefined"===typeof window.IntersectionObserver&&void 0!==i){var s=e.getBoundingClientRect();return n(i,{isIntersecting:i,target:e,intersectionRatio:"number"===typeof t.threshold?t.threshold:0,time:0,boundingClientRect:s,intersectionRect:s,rootBounds:s}),function(){}}var a=m(t),r=a.id,o=a.observer,l=a.elements,c=l.get(e)||[];return l.has(e)||l.set(e,c),c.push(n),o.observe(e),function(){c.splice(c.indexOf(n),1),0===c.length&&(l.delete(e),o.unobserve(e)),0===l.size&&(o.disconnect(),d.delete(r))}}var x=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function _(e){return"function"!==typeof e.children}l.Component;function g(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.threshold,s=n.delay,a=n.trackVisibility,r=n.rootMargin,o=n.root,c=n.triggerOnce,d=n.skip,u=n.initialInView,h=n.fallbackInView,v=n.onChange,f=l.useState(null),m=(0,i.Z)(f,2),x=m[0],_=m[1],g=l.useRef(),j=l.useState({inView:!!u,entry:void 0}),N=(0,i.Z)(j,2),b=N[0],y=N[1];g.current=v,l.useEffect((function(){var e;if(!d&&x)return e=p(x,(function(n,t){y({inView:n,entry:t}),g.current&&g.current(n,t),t.isIntersecting&&c&&e&&(e(),e=void 0)}),{root:o,rootMargin:r,threshold:t,trackVisibility:a,delay:s},h),function(){e&&e()}}),[Array.isArray(t)?t.toString():t,x,o,r,c,d,a,h,s]);var w=null==(e=b.entry)?void 0:e.target;l.useEffect((function(){x||!w||c||d||y({inView:!!u,entry:void 0})}),[x,w,c,d,u]);var C=[_,b.inView,b.entry];return C.ref=C[0],C.inView=C[1],C.entry=C[2],C}}}]);
//# sourceMappingURL=462.10691242.chunk.js.map