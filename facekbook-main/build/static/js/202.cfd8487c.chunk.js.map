{"version":3,"file":"static/js/202.cfd8487c.chunk.js","mappings":"wLACA,EAAuB,oBAAvB,EAAuD,yB,2DC4CvD,MApCA,WACE,IAAMA,GAAWC,EAAAA,EAAAA,MAETC,GAASC,EAAAA,EAAAA,MAATD,KACR,GAA4DE,EAAAA,EAAAA,GAAS,CACnEC,SAAU,CAAC,UAAWH,GACtBI,QAAQ,WAAD,8BAAE,2GACgBC,EAAAA,EAAAA,IAAU,GAAD,OAC3BC,GAAiC,yBAAiBN,GACrD,CACEO,iBAAiB,IAEnB,KAAD,EALW,OAKX,SALOC,EAAI,EAAJA,KAAI,kBAMLA,GAAI,2CACZ,kDARO,GASRC,sBAAsB,IAXhBC,EAAS,EAATA,UAAWC,EAAO,EAAPA,QAASH,EAAI,EAAJA,KAAMI,EAAU,EAAVA,WAAYC,EAAS,EAATA,UAcxCC,EAAeJ,GAAaE,EAQlC,OANAG,EAAAA,EAAAA,YAAU,WACJJ,GACFb,EAAS,OAEb,GAAG,CAACa,KAGF,gBAAKK,UAAWC,EAAa,UAC3B,iBAAKD,UAAWC,EAAkB,UAC/BH,IAAgB,SAACI,EAAA,EAAY,IAC7BL,IAAcH,IAAa,SAAC,IAAI,CAACV,KAAU,OAAJQ,QAAI,IAAJA,OAAI,EAAJA,EAAMA,KAAKR,WAI3D,C","sources":["webpack://backbook/./src/pages/post/style.module.css?ba73","pages/post/PostPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"post\":\"style_post__MdAfa\",\"container\":\"style_container__RHmMM\"};","import React, { useEffect } from \"react\";\nimport classes from \"./style.module.css\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport Post from \"../../components/posts/post\";\nimport PostSkeleton from \"../../components/skeleton/PostSkeleton\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction PostPage() {\n  const navigate = useNavigate();\n\n  const { post } = useParams();\n  const { isLoading, isError, data, isFetching, isSuccess } = useQuery({\n    queryKey: [\"getPost\", post],\n    queryFn: async () => {\n      const { data } = await axios.get(\n        `${process.env.REACT_APP_BACKEND_URL}/api/v1/posts/${post}`,\n        {\n          withCredentials: true,\n        }\n      );\n      return data;\n    },\n    refetchOnWindowFocus: false,\n  });\n\n  const postsSkelton = isLoading || isFetching;\n\n  useEffect(() => {\n    if (isError) {\n      navigate(\"/404\");\n    }\n  }, [isError]);\n\n  return (\n    <div className={classes.post}>\n      <div className={classes.container}>\n        {postsSkelton && <PostSkeleton />}\n        {isSuccess && !isLoading && <Post post={data?.data.post} />}\n      </div>\n    </div>\n  );\n}\n\nexport default PostPage;\n"],"names":["navigate","useNavigate","post","useParams","useQuery","queryKey","queryFn","axios","process","withCredentials","data","refetchOnWindowFocus","isLoading","isError","isFetching","isSuccess","postsSkelton","useEffect","className","classes","PostSkeleton"],"sourceRoot":""}